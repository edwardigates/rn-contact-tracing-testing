{"version":3,"sources":["Math.ts"],"names":["Animated","eq","set","cond","add","multiply","lessThan","abs","divide","sub","min2","min","max2","max","reRound","round","greaterThan","pow","and","greaterOrEq","lessOrEq","proc","floor","bin","value","fract","x","inc","dec","args","reduce","acc","arg","mix","origin","destination","clamp","lowerBound","upperBound","between","inclusive","approximates","a","b","precision","toRad","deg","Math","PI","toDeg","rad","atan2","y","coeff1","coeff2","absY","angle","cubicBezier","t","p0","p1","p2","p3","term","c","d","p"],"mappings":"AAAA,MAAOA,CAAAA,QAAP,KAAqB,yBAArB,C,GAGEC,CAAAA,E,CAmBED,Q,CAnBFC,E,CACAC,G,CAkBEF,Q,CAlBFE,G,CACAC,I,CAiBEH,Q,CAjBFG,I,CACAC,G,CAgBEJ,Q,CAhBFI,G,CACAC,Q,CAeEL,Q,CAfFK,Q,CACAC,Q,CAcEN,Q,CAdFM,Q,CACAC,G,CAaEP,Q,CAbFO,G,CACAC,M,CAYER,Q,CAZFQ,M,CACAC,G,CAWET,Q,CAXFS,G,CACKC,I,CAUHV,Q,CAVFW,G,CACKC,I,CASHZ,Q,CATFa,G,CACOC,O,CAQLd,Q,CARFe,K,CACAC,W,CAOEhB,Q,CAPFgB,W,CACAC,G,CAMEjB,Q,CANFiB,G,CACAC,G,CAKElB,Q,CALFkB,G,CACAC,W,CAIEnB,Q,CAJFmB,W,CACAC,Q,CAGEpB,Q,CAHFoB,Q,CACAC,I,CAEErB,Q,CAFFqB,I,CACAC,K,CACEtB,Q,CADFsB,K,CAGF,MAAO,IAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,KAAD,QAA4BA,CAAAA,KAAK,CAAG,CAAH,CAAO,CAAxC,EAAZ,CAEP,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,CAAD,QAA8BjB,CAAAA,GAAG,CAACiB,CAAD,CAAIJ,KAAK,CAACI,CAAD,CAAT,CAAjC,EAAd,CAEP,MAAO,IAAMC,CAAAA,GAAG,CAAGN,IAAI,CAAC,SAACG,KAAD,QACtBtB,CAAAA,GAAG,CAACsB,KAAD,CAAQpB,GAAG,CAACoB,KAAD,CAAQ,CAAR,CAAX,CADmB,EAAD,CAAhB,CAIP,MAAO,IAAMI,CAAAA,GAAG,CAAGP,IAAI,CAAC,SAACG,KAAD,QACtBtB,CAAAA,GAAG,CAACsB,KAAD,CAAQf,GAAG,CAACe,KAAD,CAAQ,CAAR,CAAX,CADmB,EAAD,CAAhB,CAIP,MAAO,IAAMb,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,iCAAIkB,IAAJ,0CAAIA,IAAJ,8BACjBA,CAAAA,IAAI,CAACC,MAAL,CAAY,SAACC,GAAD,CAAMC,GAAN,QAActB,CAAAA,IAAI,CAACqB,GAAD,CAAMC,GAAN,CAAlB,EAAZ,CADiB,EAAZ,CAGP,MAAO,IAAMnB,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,kCAAIgB,IAAJ,+CAAIA,IAAJ,gCACjBA,CAAAA,IAAI,CAACC,MAAL,CAAY,SAACC,GAAD,CAAMC,GAAN,QAAcpB,CAAAA,IAAI,CAACmB,GAAD,CAAMC,GAAN,CAAlB,EAAZ,CADiB,EAAZ,CAGP,MAAO,IAAMC,CAAAA,GAAG,CAAGZ,IAAI,CACrB,SACEG,KADF,CAEEU,MAFF,CAGEC,WAHF,QAIK/B,CAAAA,GAAG,CAAC8B,MAAD,CAAS7B,QAAQ,CAACmB,KAAD,CAAQf,GAAG,CAAC0B,WAAD,CAAcD,MAAd,CAAX,CAAjB,CAJR,EADqB,CAAhB,CAQP,MAAO,IAAME,CAAAA,KAAK,CAAGf,IAAI,CACvB,SACEG,KADF,CAEEa,UAFF,CAGEC,UAHF,QAI4B5B,CAAAA,IAAI,CAACE,IAAI,CAACyB,UAAD,CAAab,KAAb,CAAL,CAA0Bc,UAA1B,CAJhC,EADuB,CAAlB,CAQP,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CACrBf,KADqB,CAErBa,UAFqB,CAGrBC,UAHqB,CAKlB,IADHE,CAAAA,SACG,2DADS,IACT,CACH,GAAIA,SAAJ,CAAe,CACb,MAAOtB,CAAAA,GAAG,CAACC,WAAW,CAACK,KAAD,CAAQa,UAAR,CAAZ,CAAiCjB,QAAQ,CAACI,KAAD,CAAQc,UAAR,CAAzC,CAAV,CACD,CACD,MAAOpB,CAAAA,GAAG,CAACF,WAAW,CAACQ,KAAD,CAAQa,UAAR,CAAZ,CAAiC/B,QAAQ,CAACkB,KAAD,CAAQc,UAAR,CAAzC,CAAV,CACD,CAVM,CAYP,MAAO,IAAMG,CAAAA,YAAY,CAAGpB,IAAI,CAC9B,SACEqB,CADF,CAEEC,CAFF,KAGEC,CAAAA,SAHF,2DAG0C,KAH1C,OAIKtC,CAAAA,QAAQ,CAACC,GAAG,CAACE,GAAG,CAACiC,CAAD,CAAIC,CAAJ,CAAJ,CAAJ,CAAiBC,SAAjB,CAJb,EAD8B,CAAzB,CAQP,MAAO,IAAMC,CAAAA,KAAK,CAAGxB,IAAI,CACvB,SAACyB,GAAD,QACEzC,CAAAA,QAAQ,CAACyC,GAAD,CAAMC,IAAI,CAACC,EAAL,CAAU,GAAhB,CADV,EADuB,CAAlB,CAKP,MAAO,IAAMC,CAAAA,KAAK,CAAG5B,IAAI,CACvB,SAAC6B,GAAD,QACE7C,CAAAA,QAAQ,CAAC6C,GAAD,CAAM,IAAMH,IAAI,CAACC,EAAjB,CADV,EADuB,CAAlB,CAQP,MAAO,IAAMG,CAAAA,KAAK,CAAG9B,IAAI,CACvB,SAAC+B,CAAD,CAAgC1B,CAAhC,CAAkE,CAChE,GAAM2B,CAAAA,MAAM,CAAGN,IAAI,CAACC,EAAL,CAAU,CAAzB,CACA,GAAMM,CAAAA,MAAM,CAAG,EAAID,MAAnB,CACA,GAAME,CAAAA,IAAI,CAAGhD,GAAG,CAAC6C,CAAD,CAAhB,CACA,GAAMI,CAAAA,KAAK,CAAGrD,IAAI,CAChBgB,WAAW,CAACO,CAAD,CAAI,CAAJ,CADK,CAEhB,CAACjB,GAAG,CAAC4C,MAAD,CAAShD,QAAQ,CAACgD,MAAD,CAAS7C,MAAM,CAACC,GAAG,CAACiB,CAAD,CAAI6B,IAAJ,CAAJ,CAAenD,GAAG,CAACsB,CAAD,CAAI6B,IAAJ,CAAlB,CAAf,CAAjB,CAAJ,CAFgB,CAGhB,CAAC9C,GAAG,CAAC6C,MAAD,CAASjD,QAAQ,CAACgD,MAAD,CAAS7C,MAAM,CAACJ,GAAG,CAACsB,CAAD,CAAI6B,IAAJ,CAAJ,CAAe9C,GAAG,CAAC8C,IAAD,CAAO7B,CAAP,CAAlB,CAAf,CAAjB,CAAJ,CAHgB,CAAlB,CAKA,MAAOvB,CAAAA,IAAI,CAACG,QAAQ,CAAC8C,CAAD,CAAI,CAAJ,CAAT,CAAiB/C,QAAQ,CAACmD,KAAD,CAAQ,CAAC,CAAT,CAAzB,CAAsCrD,IAAI,CAACF,EAAE,CAACmD,CAAD,CAAI,CAAJ,CAAH,CAAW,CAAX,CAAcI,KAAd,CAA1C,CAAX,CACD,CAXsB,CAAlB,CAcP,MAAO,IAAMC,CAAAA,WAAW,CAAGpC,IAAI,CAC7B,SACEqC,CADF,CAEEC,EAFF,CAGEC,EAHF,CAIEC,EAJF,CAKEC,EALF,CAM4B,CAC1B,GAAMC,CAAAA,IAAI,CAAGtD,GAAG,CAAC,CAAD,CAAIiD,CAAJ,CAAhB,CACA,GAAMhB,CAAAA,CAAC,CAAGrC,QAAQ,CAAC,CAAD,CAAIY,GAAG,CAAC8C,IAAD,CAAO,CAAP,CAAP,CAAkB9C,GAAG,CAACyC,CAAD,CAAI,CAAJ,CAArB,CAA6BC,EAA7B,CAAlB,CACA,GAAMhB,CAAAA,CAAC,CAAGtC,QAAQ,CAAC,CAAD,CAAIY,GAAG,CAAC8C,IAAD,CAAO,CAAP,CAAP,CAAkB9C,GAAG,CAACyC,CAAD,CAAI,CAAJ,CAArB,CAA6BE,EAA7B,CAAlB,CACA,GAAMI,CAAAA,CAAC,CAAG3D,QAAQ,CAAC,CAAD,CAAIY,GAAG,CAAC8C,IAAD,CAAO,CAAP,CAAP,CAAkB9C,GAAG,CAACyC,CAAD,CAAI,CAAJ,CAArB,CAA6BG,EAA7B,CAAlB,CACA,GAAMI,CAAAA,CAAC,CAAG5D,QAAQ,CAAC,CAAD,CAAIY,GAAG,CAAC8C,IAAD,CAAO,CAAP,CAAP,CAAkB9C,GAAG,CAACyC,CAAD,CAAI,CAAJ,CAArB,CAA6BI,EAA7B,CAAlB,CACA,MAAO1D,CAAAA,GAAG,CAACsC,CAAD,CAAIC,CAAJ,CAAOqB,CAAP,CAAUC,CAAV,CAAV,CACD,CAd4B,CAAxB,CAiBP,MAAO,IAAMlD,CAAAA,KAAK,CAAGM,IAAI,CACvB,SACEG,KADF,CAGK,IADHoB,CAAAA,SACG,2DADqC,CACrC,CACH,GAAMsB,CAAAA,CAAC,CAAGjD,GAAG,CAAC,EAAD,CAAK2B,SAAL,CAAb,CACA,MAAOpC,CAAAA,MAAM,CAACM,OAAO,CAACT,QAAQ,CAACmB,KAAD,CAAQ0C,CAAR,CAAT,CAAR,CAA8BA,CAA9B,CAAb,CACD,CAPsB,CAAlB","sourcesContent":["import Animated from \"react-native-reanimated\";\n\nconst {\n  eq,\n  set,\n  cond,\n  add,\n  multiply,\n  lessThan,\n  abs,\n  divide,\n  sub,\n  min: min2,\n  max: max2,\n  round: reRound,\n  greaterThan,\n  pow,\n  and,\n  greaterOrEq,\n  lessOrEq,\n  proc,\n  floor,\n} = Animated;\n\nexport const bin = (value: boolean): 0 | 1 => (value ? 1 : 0);\n\nexport const fract = (x: Animated.Node<number>) => sub(x, floor(x));\n\nexport const inc = proc((value: Animated.Value<number>) =>\n  set(value, add(value, 1))\n);\n\nexport const dec = proc((value: Animated.Value<number>) =>\n  set(value, sub(value, 1))\n);\n\nexport const min = (...args: Animated.Adaptable<number>[]) =>\n  args.reduce((acc, arg) => min2(acc, arg));\n\nexport const max = (...args: Animated.Adaptable<number>[]) =>\n  args.reduce((acc, arg) => max2(acc, arg));\n\nexport const mix = proc(\n  (\n    value: Animated.Adaptable<number>,\n    origin: Animated.Adaptable<number>,\n    destination: Animated.Adaptable<number>\n  ) => add(origin, multiply(value, sub(destination, origin)))\n);\n\nexport const clamp = proc(\n  (\n    value: Animated.Adaptable<number>,\n    lowerBound: Animated.Adaptable<number>,\n    upperBound: Animated.Adaptable<number>\n  ): Animated.Node<number> => min2(max2(lowerBound, value), upperBound)\n);\n\nexport const between = (\n  value: Animated.Node<number>,\n  lowerBound: Animated.Adaptable<number>,\n  upperBound: Animated.Adaptable<number>,\n  inclusive = true\n) => {\n  if (inclusive) {\n    return and(greaterOrEq(value, lowerBound), lessOrEq(value, upperBound));\n  }\n  return and(greaterThan(value, lowerBound), lessThan(value, upperBound));\n};\n\nexport const approximates = proc(\n  (\n    a: Animated.Adaptable<number>,\n    b: Animated.Adaptable<number>,\n    precision: Animated.Adaptable<number> = 0.001\n  ) => lessThan(abs(sub(a, b)), precision)\n);\n\nexport const toRad = proc(\n  (deg: Animated.Adaptable<number>): Animated.Node<number> =>\n    multiply(deg, Math.PI / 180)\n);\n\nexport const toDeg = proc(\n  (rad: Animated.Adaptable<number>): Animated.Node<number> =>\n    multiply(rad, 180 / Math.PI)\n);\n\n// https://en.wikipedia.org/wiki/Atan2\n// https://www.gamedev.net/forums/topic/441464-manually-implementing-atan2-or-atan/\n// https://developer.download.nvidia.com/cg/atan2.html\nexport const atan2 = proc(\n  (y: Animated.Adaptable<number>, x: Animated.Adaptable<number>) => {\n    const coeff1 = Math.PI / 4;\n    const coeff2 = 3 * coeff1;\n    const absY = abs(y);\n    const angle = cond(\n      greaterOrEq(x, 0),\n      [sub(coeff1, multiply(coeff1, divide(sub(x, absY), add(x, absY))))],\n      [sub(coeff2, multiply(coeff1, divide(add(x, absY), sub(absY, x))))]\n    );\n    return cond(lessThan(y, 0), multiply(angle, -1), cond(eq(y, 0), 0, angle));\n  }\n);\n\nexport const cubicBezier = proc(\n  (\n    t: Animated.Adaptable<number>,\n    p0: Animated.Adaptable<number>,\n    p1: Animated.Adaptable<number>,\n    p2: Animated.Adaptable<number>,\n    p3: Animated.Adaptable<number>\n  ): Animated.Node<number> => {\n    const term = sub(1, t);\n    const a = multiply(1, pow(term, 3), pow(t, 0), p0);\n    const b = multiply(3, pow(term, 2), pow(t, 1), p1);\n    const c = multiply(3, pow(term, 1), pow(t, 2), p2);\n    const d = multiply(1, pow(term, 0), pow(t, 3), p3);\n    return add(a, b, c, d);\n  }\n);\n\nexport const round = proc(\n  (\n    value: Animated.Adaptable<number>,\n    precision: Animated.Adaptable<number> = 0\n  ) => {\n    const p = pow(10, precision);\n    return divide(reRound(multiply(value, p)), p);\n  }\n);\n"]}